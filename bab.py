import logging
import random
from telegram import InlineKeyboardButton, InlineKeyboardMarkup, Update
from telegram.ext import Application, CommandHandler, CallbackQueryHandler, MessageHandler, filters, CallbackContext
import nest_asyncio
import asyncio

# Включаем nest_asyncio, чтобы можно было использовать уже существующий цикл событий
nest_asyncio.apply()

# Пример рецептов
recipes = {
    'спагетти': {
        'ingredients': ['спагетти', 'помидоры', 'чеснок', 'оливковое масло', 'соль', 'перец'],
        'steps': [
            'Отварить спагетти до готовности.',
            'Обжарить чеснок на оливковом масле, добавить нарезанные помидоры.',
            'Посолить, поперчить и тушить до загустения.',
            'Смешать с отваренными спагетти и подавать.'
        ]
    },
    'котлеты': {
        'ingredients': ['мясо', 'лук', 'хлеб', 'яйцо', 'соль', 'перец'],
        'steps': [
            'Мясо пропустить через мясорубку с луком.',
            'Добавить размоченный хлеб и яйцо, хорошо перемешать.',
            'Сформировать котлеты и обжарить их на сковороде с обеих сторон.'
        ]
    },
     'блюдо от шефа': {
        'ingredients': ['вода', 'соль', 'Перец',],
        'steps': [
            'Вскипятить  воду посолить и поперчить её', 
        ]
     },
    'рис': {
        'ingredients': ['рис', 'вода', 'соль', 'масло'],
        'steps': [
            'Промыть рис под холодной водой.',
            'Вскипятить воду, добавить рис, соль и варить до готовности.',
            'Перед подачей добавить масло по вкусу.'
        ]
    },
    'гречка': {
        'ingredients': ['гречка', 'вода', 'соль', 'масло'],
        'steps': [
            'Промыть гречку, залить водой.',
            'Вскипятить, посолить и варить до готовности.',
            'Перед подачей добавить масло.'
        ]
    },
    'мясо по-французски': {
        'ingredients': ['мясо', 'картофель', 'сметана', 'сыр', 'лук', 'соль', 'перец'],
        'steps': [
            'Мясо нарезать на порционные куски, посолить и поперчить.',
            'Картофель нарезать тонкими кругами.',
            'На мясо выложить лук, картофель, полить сметаной и посыпать сыром.',
            'Запекать в духовке до готовности.'
        ]
    },
    'макароны по-флотски': {
        'ingredients': ['макароны', 'мясо', 'лук', 'соль', 'перец'],
        'steps': [
            'Отварить макароны до готовности.',
            'Обжарить мясо с луком до готовности.',
            'Смешать макароны с мясом, посолить и поперчить.'
        ]
    },
    'вареники': {
        'ingredients': ['тесто', 'картофель', 'лук', 'соль', 'масло'],
        'steps': [
            'Приготовить тесто, сформировать вареники с начинкой из отварного картофеля и лука.',
            'Варить в кипящей воде до готовности.',
            'Подавать с маслом или сметаной.'
        ]
    },
    'отбивные': {
        'ingredients': ['мясо', 'яйцо', 'мука', 'панировочные сухари', 'соль', 'перец'],
        'steps': [
            'Мясо отбить, посолить и поперчить.',
            'Обвалять в муке, затем в яйце и панировочных сухарях.',
            'Обжарить на сковороде с обеих сторон до золотистой корочки.'
        ]
    },
    'оливье': {
        'ingredients': ['картофель', 'морковь', 'яйца', 'колбаса', 'огурцы', 'майонез'],
        'steps': [
            'Отварить картофель, морковь и яйца.',
            'Нарезать все ингредиенты и смешать в миске.',
            'Заправить майонезом и перемешать.'
        ]
    },
    'цезарь': {
        'ingredients': ['куриное филе', 'салат', 'сухарики', 'пармезан', 'чеснок', 'соус цезарь'],
        'steps': [
            'Обжарить куриное филе, нарезать его на кусочки.',
            'Смешать салат, сухарики, курицу, добавить тертый пармезан.',
            'Заправить соусом цезарь.'
        ]
    },
    'сельдь под шубой': {
        'ingredients': ['сельдь', 'картофель', 'свекла', 'морковь', 'лук', 'майонез'],
        'steps': [
            'Отварить картофель, свеклу и морковь.',
            'Нарезать все ингредиенты слоями, чередуя их с сельдью.',
            'Каждый слой промазать майонезом.'
        ]
    },
    'греческий салат': {
        'ingredients': ['помидоры', 'огурцы', 'перец', 'фета', 'маслины', 'оливковое масло'],
        'steps': [
            'Нарезать овощи, добавить фету и маслины.',
            'Заправить оливковым маслом и посолить.'
        ]
    },
    'канапе': {
        'ingredients': ['хлеб', 'сыр', 'колбаса', 'помидоры', 'оливковое масло'],
        'steps': [
            'Нарезать хлеб на кусочки.',
            'Выложить на каждый кусочек хлеба сыр, колбасу и помидор.',
            'Смазать оливковым маслом.'
        ]
    },
    'сырные палочки': {
        'ingredients': ['сыр', 'яйцо', 'мука', 'панировочные сухари', 'соль'],
        'steps': [
            'Нарезать сыр на палочки.',
            'Обвалять в муке, потом в яйце и панировочных сухарях.',
            'Обжарить на сковороде до золотистой корочки.'
        ]
    },
    'картошка фри': {
        'ingredients': ['картофель', 'масло', 'соль'],
        'steps': [
            'Картофель нарезать полосками и обжарить во фритюре до золотистой корочки.',
            'Посолить по вкусу.'
        ]
    },
    'щи': {
        'ingredients': ['капуста', 'картофель', 'морковь', 'лук', 'соль', 'перец'],
        'steps': [
            'Отварить мясо до готовности, затем добавить нарезанные овощи.',
            'Варить до мягкости овощей, посолить и поперчить.'
        ]
    },
    'уха': {
        'ingredients': ['рыба', 'картофель', 'морковь', 'лук', 'соль', 'перец'],
        'steps': [
            'Отварить рыбу с овощами, добавить специи.',
            'Варить до готовности рыбы и овощей.'
        ]
    },
    'грибной суп': {
        'ingredients': ['грибы', 'картофель', 'лук', 'соль', 'перец', 'масло'],
        'steps': [
            'Обжарить лук и грибы на сковороде.',
            'Добавить картофель и варить до готовности.',
            'Посолить и поперчить по вкусу.'
        ]
    },
    'пирог с яблоками': {
        'ingredients': ['яблоки', 'тесто', 'сахар', 'яйца', 'масло'],
        'steps': [
            'Приготовить тесто, выложить его в форму.',
            'Яблоки нарезать и выложить на тесто.',
            'Посыпать сахаром и запекать до готовности.'
        ]
    },
    'кексы': {
        'ingredients': ['мука', 'сахар', 'яйца', 'масло', 'сода'],
        'steps': [
            'Смешать все ингредиенты до однородного состояния.',
            'Выпекать в духовке до золотистой корочки.'
        ]
    },
    'шарлотка': {
        'ingredients': ['яблоки', 'яйца', 'мука', 'сахар', 'масло'],
        'steps': [
            'Смешать все ингредиенты, выложить в форму для выпечки.',
            'Запекать до готовности.'
        ]
    },
    'тирамису': {
        'ingredients': ['печенье савоярди', 'маскарпоне', 'яйца', 'кофе', 'сахар'],
        'steps': [
            'Погрузить печенье в кофе и выложить в форму.',
            'Смешать яйца с сахаром и маскарпоне.',
            'Выложить крем на печенье и охлаждать несколько часов.'
        ]
    },
    'торт Наполеон': {
        'ingredients': ['слоеное тесто', 'сметана', 'сахар'],
        'steps': [
            'Выпечь коржи из теста.',
            'Смешать сметану с сахаром и промазать коржи кремом.',
            'Собрать торт и оставить на несколько часов.'
        ]
    },
    'крем-брюле': {
        'ingredients': ['сливки', 'яйца', 'сахар', 'ваниль'],
        'steps': [
            'Смешать все ингредиенты и разлить по формочкам.',
            'Запекать до готовности, посыпать сахаром и карамелизовать.'
        ]
    },
    'панна котта': {
        'ingredients': ['сливки', 'сахар', 'желатин', 'ваниль'],
        'steps': [
            'Растопить желатин в теплых сливках.',
            'Добавить сахар и ваниль, залить в формы.',
            'Охлаждать до застывания.'
        ]
    },
    'коктейль мохито': {
        'ingredients': ['мята', 'сахар', 'лайм', 'ром', 'сода'],
        'steps': [
            'Размять мяту и лайм с сахаром.',
            'Добавить ром и долить содовой.'
        ]
    },
    'чай': {
        'ingredients': ['чайные листья', 'вода'],
        'steps': [
            'Заварить чайные листья кипятком.'
        ]
    },
    'кофе': {
        'ingredients': ['кофейные зерна', 'вода'],
        'steps': [
            'Измельчить зерна и заварить кофе.'
        ]
    },
    'тархун': {
        'ingredients': ['тархун', 'вода', 'сахар'],
        'steps': [
            'Приготовить сироп из сахара и воды.',
            'Добавить экстракт тархуна.'
        ]
    },
    'курица гриль': {
        'ingredients': ['курица', 'специи', 'масло'],
        'steps': [
            'Натрите курицу специями и оставьте на несколько часов.',
            'Запекать на гриле до готовности.'
        ]
    },
    'пицца': {
        'ingredients': ['тесто', 'помидоры', 'сыр', 'колбаса', 'оливковое масло'],
        'steps': [
            'Раскатать тесто, добавить помидоры, сыр и колбасу.',
            'Выпекать до готовности.'
        ]
    },
    'шаурма': {
        'ingredients': ['лаваш', 'мясо', 'салат', 'соус'],
        'steps': [
            'Подготовить мясо, обжарить.',
            'Заполнить лаваш мясом, салатом и соусом.'
        ]
    },
    'соус сырный': {
        'ingredients': ['сыр', 'сливки', 'масло'],
        'steps': [
            'Растопить сыр с маслом и сливками.'
        ]
    },
    'соус чесночный': {
        'ingredients': ['чеснок', 'майонез', 'сметана'],
        'steps': [
            'Измельчить чеснок и смешать с майонезом и сметаной.'
        ]
    },
    'соус томатный': {
        'ingredients': ['помидоры', 'чеснок', 'оливковое масло'],
        'steps': [
            'Приготовить соус из томатов, чеснока и масла.'
        ]
    },
    'соленья': {
        'ingredients': ['огурцы', 'соль', 'уксус'],
        'steps': [
            'Приготовить рассол и залить огурцы.'

        ]
    },
    'пимбимпап': {
            'ingredients': ['рис', 'говядина', 'яйцо', 'специи', 'морковь', 'шпинат', 'паста из красного перца'],
            'steps': [
                'Приготовьте рис и жарьте говядину с соевым соусом и специями.',
                'Обжарьте яйца, чтобы получить глазунью.',
                'Натрите морковь и обжарьте шпинат.',
                'На тарелку выложите рис, сверху положите говядину, яйцо, шпинат, морковь и пасту из красного перца.'
            ]
        },
        'буззы': {
            'ingredients': ['кукурузная мука', 'вода', 'соль', 'масло'],
            'steps': [
                'Смешайте кукурузную муку с водой, добавьте соль.',
                'Варите смесь до густоты, периодически помешивая.',
                'Подавайте с растопленным маслом.'
            ]
        },
        'картофель айдахо': {
            'ingredients': ['картофель', 'чеснок', 'паприка', 'масло', 'соль', 'перец'],
            'steps': [
                'Картофель нарезать дольками, обвалять в специях и масле.',
                'Запечь в духовке до золотистой корочки.'
            ]
        },
        'тушеная капуста': {
            'ingredients': ['капуста', 'лук', 'морковь', 'масло', 'соль', 'перец'],
            'steps': [
                'Капусту нарезать и потушить с луком и морковью.',
                'Добавить специи и тушить до мягкости.'
            ]
        },
        'баклажаны пармиджано': {
            'ingredients': ['баклажаны', 'помидоры', 'моцарелла', 'пармезан', 'чеснок', 'оливковое масло'],
            'steps': [
                'Нарезать баклажаны, обжарить с чесноком и оливковым маслом.',
                'Выложить баклажаны в форму, добавить помидоры и моцареллу.',
                'Посыпать пармезаном и запечь до золотистой корочки.'
            ]
        },
        'равиоли с грибами': {
            'ingredients': ['паста для равиоли', 'грибы', 'сыр', 'сливки', 'чеснок'],
            'steps': [
                'Обжарить грибы с чесноком.',
                'Приготовить равиоли и начинить их грибами и сыром.',
                'Сделать соус из сливок и подать равиоли с соусом.'
            ]
        },
        'буйабес': {
            'ingredients': ['рыба', 'морепродукты', 'помидоры', 'чеснок', 'шалот', 'специи'],
            'steps': [
                'Обжарить чеснок и шалот, добавить помидоры и специи.',
                'Влить бульон и добавить рыбу и морепродукты.',
                'Тушить до готовности рыбы и подавать с тостами.'
            ]
        },
        'перловая каша с маслом': {
            'ingredients': ['перловка', 'вода', 'масло', 'соль'],
            'steps': [
                'Промыть перловку и сварить в воде до мягкости.',
                'Добавить масло и соль, перемешать.'
            ]
        },
        'тефтели с подливкой': {
            'ingredients': ['мясо', 'рис', 'лук', 'томатная паста', 'соль', 'перец'],
            'steps': [
                'Приготовьте мясные шарики из мяса и риса.',
                'Обжарьте с луком, добавьте томатную пасту.',
                'Готовьте до мягкости, добавьте специи и подавайте.'
            ]
        },
        'цитрусовый карп': {
            'ingredients': ['карп', 'лимон', 'апельсин', 'оливковое масло', 'специи'],
            'steps': [
                'Мариновать рыбу в лимонном и апельсиновом соке с специями.',
                'Запечь карпа с оливковым маслом и цитрусовыми.'
            ]
        },
        'баланда юнусова риназа': {
            'ingredients': ['морковь', 'лук', 'макароны', 'курица', 'соль', 'перец','хлеб'],
            'steps': [
                'Сходить за каждым ингредиентом в отдельный магазин.',
                'Параллельно НЕ ВКЛЮЧАТЬ ПЛИТУ ПОКА ХОДИШЬ ДА РИНАЗ.',
                'Куриное филе вымойте, обсушите, срежьте с филе пленки и нарежьте его крупно:.'
                'Выложите курицу в кастрюлю, залейте холодной водой, добавьте лавровые листья. Доведите до кипения и снимите пену. Варите куриное филе 15 минут, после чего выложите кусочки филе на тарелку.'
                "Овощи обжарить"
                'В суп с овощами добавьте куриное филе.'
            ]

        },
        'борщ': {
            'ingredients': ['свекла', 'картофель', 'морковь', 'лук', 'квас', 'капуста', 'чеснок', 'соль', 'перец',
                                'сметана', 'укроп'],
            'steps': [
                    'Отварить картофель и свеклу до готовности.',
                    'Обжарить морковь и лук, добавить в бульон.',
                    'Добавить капусту и варить до мягкости.',
                    'Добавить квас и варить еще 10 минут.',
                    'Добавить чеснок, соль, перец по вкусу.',
                    'Подавайте с ложкой сметаны и посыпьте укропом.'
                ]
            },
            'солянка': {
                'ingredients': ['копчености', 'колбаса', 'картофель', 'лук', 'маслины', 'соль', 'перец',
                                'томатная паста', 'лимон', 'сметана'],
                'steps': [
                    'Отварите картофель до готовности.',
                    'Обжарьте лук и добавьте нарезанные копчености и колбасу.',
                    'Добавьте томатную пасту, посолите и поперчите.',
                    'Добавьте оливки, варите 10 минут.',
                    'Подавайте с долькой лимона и ложкой сметаны.'
                ]
            },
            'губадия': {
                'ingredients': ['тесто', 'рис', 'мясо', 'лук', 'яйца', 'соль', 'перец'],
                'steps': [
                    'Приготовьте тесто и раскатайте его.',
                    'Отварите рис и мясо, обжарьте лук.',
                    'Смешайте рис, мясо, яйца, добавьте соль и перец.',
                    'Выложите начинку в тесто и заверните.',
                    'Выпекайте до золотистой корочки.'
                ]
            },
            'элеш': {
                'ingredients': ['тесто', 'мясо', 'картофель', 'лук', 'соль', 'перец'],
                'steps': [
                    'Приготовьте тесто и раскатайте его.',
                    'Отварите картофель и мясо, обжарьте лук.',
                    'Смешайте мясо с картофелем, добавьте соль и перец.',
                    'Заверните начинку в тесто и готовьте на пару.'
                ]
            },
            'треугольник': {
                'ingredients': ['тесто', 'мясо', 'соль', 'перец'],
                'steps': [
                    'Приготовьте тесто и раскатайте.',
                    'Обжарьте мясо с луком и специями.',
                    'Выложите начинку на тесто и сложите в форме треугольника.',
                    'Выпекайте до золотистой корочки.'
                ]
            },
            'блины': {
                'ingredients': ['мука', 'молоко', 'яйца', 'соль', 'сахар', 'масло'],
                'steps': [
                    'Смешайте все ингредиенты в тесто.',
                    'Разогрейте сковороду и налейте немного масла.',
                    'Жарьте блины с обеих сторон до золотистой корочки.'
                ]
            },
            'блины с мясом': {
                'ingredients': ['блины', 'фарш', 'лук', 'соль', 'перец'],
                'steps': [
                    'Приготовьте блины по обычному рецепту.',
                    'Обжарьте фарш с луком, посолите и поперчите.',
                    'Заверните мясо в блины и подавайте.'
                ]
            },
            'блины с творогом': {
                'ingredients': ['блины', 'творог', 'сахар', 'ваниль'],
                'steps': [
                    'Приготовьте блины по обычному рецепту.',
                    'Смешайте творог с сахаром и ванилью.',
                    'Положите начинку на блины и сверните.'
                ]
            },
            'драники': {
                'ingredients': ['картофель', 'лук', 'яйца', 'мука', 'соль', 'перец'],
                'steps': [
                    'Натрите картофель и лук на терке.',
                    'Смешайте с яйцами, мукой, солью и перцем.',
                    'Обжаривайте драники на сковороде с обеих сторон до золотистой корочки.'
                ]
            },
            'жаренная картошка': {
                'ingredients': ['картофель', 'соль', 'перец', 'масло'],
                'steps': [
                    'Нарежьте картофель ломтями или кубиками.',
                    'Обжарьте на сковороде с маслом до золотистой корочки.',
                    'Посолите и поперчите по вкусу.'
                ]
            },
            'вареная картошка': {
                'ingredients': ['картофель', 'соль'],
                'steps': [
                    'Отварите картофель в подсоленной воде до готовности.',
                    'Подавайте с маслом или как гарнир.'
                ]
            },
            'картофельное пюре': {
                'ingredients': ['картофель', 'молоко', 'масло', 'соль'],
                'steps': [
                    'Отварите картофель до готовности.',
                    'Разомните картофель, добавьте молоко, масло и соль.',
                    'Тщательно перемешайте до кремовой консистенции.'
                ]
            },
            'жюльен': {
                'ingredients': ['грибы', 'курица', 'лук', 'сметана', 'сыр', 'соль', 'перец'],
                'steps': [
                    'Обжарьте лук и грибы, добавьте курицу.',
                    'Добавьте сметану, посолите и поперчите.',
                    'Переложите в форму для запеканки, посыпьте тертым сыром.',
                    'Запекайте до золотистой корочки.'
                ]
            },
            'жюльен в булочке': {
                'ingredients': ['грибы', 'курица', 'лук', 'сметана', 'сыр', 'соль', 'перец', 'булочки'],
                'steps': [
                    'Приготовьте жюльен по стандартному рецепту.',
                    'Аккуратно вырежьте середину булочек.',
                    'Заполните булочки приготовленным жюльеном и запекайте до золотистой корочки.'
                ]
            },
    'манты': {
        'ingredients': ['тесто', 'мясо', 'лук', 'соль', 'перец'],
        'steps': [
            'Приготовьте тесто и раскатайте его.',
            'Мясо и лук измельчите, посолите и поперчите.',
            'Выложите начинку на тесто и сформируйте манты.',
            'Отварите манты на пару до готовности.'
        ]
    },
    'хинкали': {
        'ingredients': ['тесто', 'мясо', 'лук', 'специи', 'соль'],
        'steps': [
            'Приготовьте тесто и раскатайте его.',
            'Мясо и лук измельчите, добавьте специи и соль.',
            'Сформируйте хинкали и отварите их в подсоленной воде.'
        ]
    },
    'хинкал': {
        'ingredients': ['тесто', 'мясо', 'лук', 'специи', 'соль'],
        'steps': [
            'Приготовьте тесто и раскатайте его.',
            'Мясо отварите, нарежьте и обжарьте с луком и специями.',
            'Из теста сформируйте лепешки, на них положите мясо, сверните и отварите.'
        ]
    },
    'бешбармак': {
        'ingredients': ['тесто', 'мясо', 'лук', 'специи', 'соль'],
        'steps': [
            'Приготовьте тесто и нарежьте его на большие полоски.',
            'Мясо отварите, нарежьте и подавайте с тестом.',
            'Посыпьте все луком и специями.'
        ]
    },
'паста с соусом песто': {
        'ingredients': ['паста', 'базилик', 'чеснок', 'кедровые орехи', 'оливковое масло', 'пармезан'],
        'steps': [
            'Отварить пасту до готовности.',
            'Измельчить базилик, чеснок и кедровые орехи в блендере.',
            'Добавить оливковое масло и тертый пармезан, перемешать.',
            'Смешать пасту с соусом и подавать.'
        ]
    },
    'гуляш': {
        'ingredients': ['говядина', 'лук', 'морковь', 'паприка', 'томаты', 'чеснок', 'соль', 'перец'],
        'steps': [
            'Нарезать говядину и обжарить до золотистой корочки.',
            'Добавить нарезанный лук и морковь, жарить до мягкости.',
            'Добавить паприку и измельченные томаты, тушить 10 минут.',
            'Залить водой, посолить, поперчить и тушить до готовности мяса.'
        ]
    },
    'долма': {
        'ingredients': ['виноградные листья', 'фарш (баранина или говядина)', 'рис', 'лук', 'чеснок', 'помидоры', 'соль', 'перец'],
        'steps': [
            'Приготовить начинку из фарша, риса, лука и чеснока.',
            'Листья винограда обдать кипятком для мягкости.',
            'Завернуть в листья винограда небольшие порции начинки.',
            'Варить в кастрюле с помидорами и специями до готовности.'
        ]
    },
    'айран': {
        'ingredients': ['йогурт', 'вода', 'соль'],
        'steps': [
            'Смешать йогурт, воду и соль.',
            'Взбить смесь до получения однородной консистенции.',
            'Подавать охлажденным.'
        ]
    },
    'квас': {
        'ingredients': ['хлеб', 'сахар', 'дрожжи', 'вода'],
        'steps': [
            'Порезать хлеб и подсушить его.',
            'Приготовить закваску из сахара, дрожжей и воды.',
            'Смешать закваску с хлебом, оставить на несколько дней для брожения.',
            'Процедить и охладить перед подачей.'
        ]
    },
    'голубцы': {
        'ingredients': ['капуста', 'фарш', 'рис', 'лук', 'томаты', 'соль', 'перец'],
        'steps': [
            'Приготовить начинку из фарша, риса и лука.',
            'Отделить листья капусты и бланшировать их.',
            'Завернуть начинку в капустные листья и уложить в кастрюлю.',
            'Залить томатным соусом и тушить до готовности.'
        ]
    },
    'лечо': {
        'ingredients': ['перец', 'помидоры', 'лук', 'чеснок', 'соль', 'перец', 'масло'],
        'steps': [
            'Нарезать овощи и обжарить лук и чеснок на масле.',
            'Добавить нарезанные помидоры и перец, тушить до мягкости.',
            'Посолить и поперчить, подавать теплым.'
        ]
    },
    'сырники': {
        'ingredients': ['творог', 'яйцо', 'мука', 'сахар', 'соль', 'масло'],
        'steps': [
            'Смешать творог, яйцо, муку, сахар и соль.',
            'Сформировать из теста небольшие круглые лепешки.',
            'Обжарить на сковороде с маслом до золотистой корочки.'
        ]
    },
    'азу': {
        'ingredients': ['говядина', 'картофель', 'лук', 'маринованные огурцы', 'томатная паста', 'соль', 'перец'],
        'steps': [
            'Обжарить говядину до золотистой корочки.',
            'Добавить нарезанный лук, жарить до мягкости.',
            'Добавить картофель, маринованные огурцы, томатную пасту и тушить до готовности.'
        ]
    },
    'пунш': {
        'ingredients': ['фрукты', 'сок', 'спиртные напитки', 'сахар'],
        'steps': [
            'Смешать фрукты, сок, спиртные напитки и сахар.',
            'Охладить и подавать с льдом.'
        ]
    },
    'кордон блю': {
        'ingredients': ['куриное филе', 'ветчина', 'сыр', 'яйцо', 'панировочные сухари', 'масло'],
        'steps': [
            'Отбить куриное филе, положить на него ломтик ветчины и сыра.',
            'Завернуть в филе и обвалять в яйце и панировочных сухарях.',
            'Обжарить на сковороде до золотистой корочки.'
        ]
    },
    'брауни': {
        'ingredients': ['шоколад', 'масло', 'сахар', 'яйца', 'мука', 'орехи'],
        'steps': [
            'Растопить шоколад с маслом.',
            'Смешать с сахаром, яйцами и мукой.',
            'Добавить орехи и выпекать в духовке при 180°C до готовности.'
        ]
    },
    'курица пикассо': {
        'ingredients': ['куриное филе', 'помидоры', 'паприка', 'чеснок', 'сыр', 'сметана'],
        'steps': [
            'Обжарить куриное филе, добавить нарезанные помидоры и чеснок.',
            'Добавить паприку и тушить до мягкости.',
            'Посыпать тертым сыром и подавать с соусом из сметаны.'
        ]
    },
    'гуакомоле': {
        'ingredients': ['авокадо', 'помидоры', 'лук', 'сок лимона', 'чеснок', 'соль', 'перец'],
        'steps': [
            'Размять авокадо, добавить мелко нарезанные помидоры, лук и чеснок.',
            'Посолить, поперчить и добавить сок лимона.',
            'Перемешать и подавать с чипсами или тортильями.'
        ]
    },
    'суп харчо': {
        'ingredients': ['говядина', 'рис', 'томатная паста', 'чеснок', 'грецкие орехи', 'специи'],
        'steps': [
            'Отварить говядину и нарезать её кусочками.',
            'Добавить в бульон рис, томатную пасту и специи.',
            'Перемешать и варить до готовности, добавить орехи и чеснок.'
        ]
    },
    'суп вишисуаз': {
        'ingredients': ['картофель', 'порей', 'лук', 'сливки', 'масло'],
        'steps': [
            'Отварить картофель и порей до мягкости.',
            'Обжарить лук и добавить к овощам.',
            'Пюрировать все ингредиенты, добавить сливки и подогреть.'
        ]
    },
    'медовик': {
        'ingredients': ['мед', 'сахар', 'яйца', 'мука', 'сметана', 'сoda'],
        'steps': [
            'Приготовить тесто из меда, сахара, яиц, муки и соды.',
            'Выпекать коржи и смазать их сметаной.',
            'Собрать торт и дать настояться несколько часов.'
        ]
    },
    'оладьи': {
        'ingredients': ['молоко', 'сахар', 'яйца', 'мука', 'дрожжи', 'соль',"масло растительное"],
        'steps': [
            'Подогрейте молоко до температуры 35-45 градусов. Разведите дрожжи в небольшом количестве теплого молока (1 стакан).',
            'Влейте оставшееся молоко. Постепенно добавьте муку.Замесите тесто и поставьте его на 1 час в теплое место для подъема.',
            'После того как тесто поднимется, добавьте взбитые с солью и сахаром яйца.'
            'Вымесите тесто и снова поставьте на 30 минут в теплое место.'
            'Разогрейте на сковороде растительное масло (1 ст. ложку). Разливайте тесто глубокой ложкой. Жарьте оладьи обыкновенные 2-3 минуты на среднем огне.'
            'Переворачивайте, как только подрумянится одна сторона. Накройте крышкой. Жарьте с другой стороны еще 1-2 минуту.'
        ]
    },
    "мармелад": {
        'ingredients': ['вишня', 'сахар', 'вода', 'агар-агар',],
        'steps': [
            'Агар-агар заливаем водой или вишнёвым соком, который стечёт после удаления косточек. У меня получилось 25 мл вишнёвого сока, поэтому я залила агар смесью 25 мл воды и 25 мл вишнёвого сока (всего 50 мл',
            'Вишню без косточек измельчаем погружным блендером в пюре.',
            'Вишнёвое пюре заливаем в толстостенную кастрюлю, добавляем сахар.'
            'Доводим всё до закипания и варим, помешивая, на небольшом огне 1-2 минуты, до полного растворения сахара.'
            'Затем добавляем агар-агар. Варим смесь на небольшом огне, всё время помешивая, 5 минут.'
            'Снимаем смесь с плиты и даём немного остыть, но не полностью, так как агар-агар застывает уже при температуре 45 градусов.'
            'Заливаем в формачку'
        ]
    },
    'тапас с тунцом, томатом-черри и рукколой': {
        'ingredients': ['багет', 'Филе тунца в оливковом масле', 'Стружка пармезана', 'Оливки без косточек', 'Томаты-черри', 'Руккола', 'Петрушка','Масло оливковое','Чили хлопья',],
        'steps': [
            'Смажьте ломтики багета оливковым маслом и обжарьте на сковороде-гриль до румяной корочки.',
            'Нарежьте томаты-черри на половинки. Петрушку мелко нарубите.',
            'Смешайте в миске филе тунца, томаты-черри, петрушку, лимонный сок и хлопья перца чили.',
            'На обжаренные ломтики багета положите рукколу, сверху приготовленную смесь, посыпьте стружкой пармезана и украсьте оливками.'
        ]
   },
    'фриттата с овощами и булочкой': {
        'ingredients': ['яйцо', 'томаты', 'соль', 'булочка', 'сметана', 'чеснок', 'свежая петрушка','Брокколи',],
        'steps': [
            'Включаем духовку на 200°С',
            'Булочку выкладываем на противень и отправляем в духовку на  10 минут',
            'Сковороду с 1 ч. л. раст. масла ставим на средний огонь   и нагреваем',
            'Яйца моем и разбиваем в миску. Взбиваем вилкой.Сметану и по 0,25 ч. л. соли и перца добавляем к яйцам'
            'Хорошо взбиваем вилкой до однородности'
            'Сковороду с 1 ст. л. раст. масла ставим на сильный огонь'
            'БРОкколи😎🤙, томаты и чеснок (ПО ЖЕЛАНИЮ! Можно не добавлять!) кладем в сковороду'
            'Помешиваем  3 минуты.Заливаем яично-сметанной смесью.Свежей петрушкой посыпаем сверху'
            'Аккуратно достаем готовую булочку и разрезаем вдоль пополам.На тарелку кладем готовую фриттату. Едим с булочкой'
        ]
},
    'яичница': {
        'ingredients': ['яйца', 'сливочное масло', 'соль', 'перец'],
        'steps': [
            'Разогреть сковороду на среднем огне.',
            'Добавить немного сливочного масла и дождаться его растапливания.',
            'Вбить яйца на сковороду.',
            'Посолить и поперчить по вкусу.',
            'Жарить до желаемой степени готовности желтка.',
            'Подать сразу же.'
        ]
    },
    'вареные яйца': {
        'ingredients': ['яйца', 'вода'],
        'steps': [
            'Поместить яйца в кастрюлю и залить холодной водой так, чтобы они были полностью покрыты.',
            'Довести воду до кипения на сильном огне.',
            'После закипания уменьшить огонь до среднего и варить яйца:',
            '- Всмятку: около 3 минут.',
            '- Вкрутую: около 8–10 минут.',
            'По окончании варки переложить яйца в холодную воду, чтобы остановить процесс приготовления.',
            'Очистить от скорлупы и подать.'
        ]
    },
    'яйцо пашот': {
        'ingredients': ['яйцо', 'вода', 'уксус (по желанию)'],
        'steps': [
            'Наполнить небольшую кастрюлю водой и довести её до слабого кипения.',
            'Добавить уксус, если используется (это поможет белку быстрее свернуться).',
            'Аккуратно разбить яйцо в чашку, стараясь не повредить желток.',
            'Создать воронку в воде, помешивая ложкой круговыми движениями.',
            'Медленно вылить яйцо в центр воронки.',
            'Готовить примерно 3 минуты, пока белок не схватится, а желток останется жидким.',
            'Шумовкой аккуратно достать яйцо из воды и промокнуть бумажным полотенцем.',
            'Подать сразу.'
        ]
    },
    'омлет': {
        'ingredients': ['яйца', 'молоко', 'соль', 'перец', 'масло для жарки'],
        'steps': [
            'Взбить яйца венчиком или вилкой вместе с молоком, солью и перцем.',
            'Разогреть сковороду на среднем огне и добавить немного масла.',
            'Вылить яичную смесь на сковороду и готовить, периодически помешивая края лопаточкой, чтобы омлет равномерно прожаривался.',
            'Когда омлет почти готов, сложить его пополам или оставить плоским.',
            'Переложить на тарелку и подать горячим.'
        ]
    },
    'безе': {
        'ingredients': ['яичные белки', 'сахарная пудра', 'щепотка соли', 'лимонный сок'],
        'steps': [
            'Разогреть духовку до 120°C.',
            'Взбивать белки с щепоткой соли до образования мягких пиков.',
            'Постепенно добавлять сахарную пудру, продолжая взбивать, пока масса не станет густой и блестящей.',
            'Добавить лимонный сок и ещё раз взбить.',
            'Выкладывать массу чайной ложкой или кондитерским мешком на противень, застеленный бумагой для выпечки.',
            'Выпекать около 60–90 минут, пока безе не станут сухими и хрустящими.',
            'Оставить остывать в выключенной духовке.'
        ]
    },
    'цукаты': {
        'ingredients': ['фрукты или ягоды', 'сахар', 'вода'],
        'steps': [
            'Нарезать фрукты тонкими ломтиками или кубиками.',
            'Положить их в кастрюлю, засыпать сахаром и оставить на ночь, чтобы выделился сок.',
            'На следующий день поставить кастрюлю на средний огонь и довести до кипения.',
            'Уменьшить огонь и варить, пока сироп не загустеет, а фрукты не станут полупрозрачными.',
            'Вынуть фрукты шумовкой и разложить на решетке или бумаге для просушки.',
            'Высушенные цукаты можно обвалять в сахарной пудре перед хранением.'
        ]
    },
    'чак-чак': {
        'ingredients': ['мука', 'яйца', 'соль', 'мёд', 'сахар', 'растительное масло для жарки'],
        'steps': [
            'Смешать муку, соль и яйца, замесить тесто.',
            'Раскатать тесто тонким слоем и нарезать на маленькие кусочки (палочки или шарики).',
            'Обжарить кусочки теста во фритюре до золотистого цвета.',
            'Откинуть на бумажное полотенце, чтобы удалить излишки масла.',
            'Приготовить медовую заливку: смешать мёд и сахар, нагреть на медленном огне до полного растворения сахара.',
            'Залить обжаренное тесто горячей медовой массой и перемешать.',
            'Выложить чак-чак на блюдо и придать ему форму горки.',
            'Охладить и подать.'
        ]
    },
    'пахлава': {
        'ingredients': ['тесто фило', 'грецкие орехи', 'сахар', 'сливочное масло', 'вода', 'мёд', 'лимон', 'корица'],
        'steps': [
            'Измельчить грецкие орехи в крошку.',
            'Разогреть духовку до 180°C.',
            'Растопить сливочное масло.',
            'Взять половину листов теста фило и выложить их слоями в смазанную маслом форму, промазывая каждый слой растопленным маслом.',
            'Равномерно распределить ореховую начинку поверх слоев теста.',
            'Накрыть оставшимися листами теста, также промазанными маслом.',
            'Разрезать пахлаву на ромбы или квадраты, не прорезая до дна.',
            'Выпекать около 30–40 минут до золотистой корочки.',
            'Пока пахлава печётся, приготовить сироп: смешать воду, сахар, мёд, лимонный сок и корицу. Довести до кипения и варить 5 минут.',
            'Полить горячую пахлаву горячим сиропом и дать пропитаться.',
            'Перед подачей полностью охладить.'
        ]
    },
    'повидло': {
        'ingredients': ['фрукты', 'сахар', 'вода'],
        'steps': [
            'Очистить фрукты от кожуры и сердцевин, нарезать мелкими кусочками.',
            'Положить фрукты в кастрюлю, добавить воду и варить на среднем огне до мягкости.',
            'Протереть фрукты через сито или измельчить блендером до однородности.',
            'Вернуть пюре обратно в кастрюлю, добавить сахар и варить на медленном огне, постоянно помешивая, пока масса не загустеет.',
            'Горячее повидло разложить по стерилизованным банкам и закатать крышками.',
            'Хранить в прохладном месте.'
        ]
   },
'окрошка': {
        'ingredients': ['картофель', 'редис', 'огурец', 'зеленый лук', 'яйца', 'мясо (говядина или курица)', 'квас', 'сметана', 'соль', 'укроп'],
        'steps': [
            'Отварить картофель и яйца, очистить и нарезать кубиками.',
            'Редис и огурец нарезать тонкой соломкой или кубиками.',
            'Мелко порубить зеленый лук и укроп.',
            'Мясо отварить, остудить и нарезать небольшими кусочками.',
            'Соединить все ингредиенты в большой миске.',
            'Заправить квасом, добавить сметану, посолить по вкусу и тщательно перемешать.',
            'Охладить перед подачей.'
        ]
    },
    'хаш': {
        'ingredients': ['говяжьи ножки', 'рубец', 'лук', 'чеснок', 'соль', 'лавровый лист', 'черный перец горошком', 'зелень (укроп, петрушка, базилик)'],
        'steps': [
            'Говяжьи ножки и рубец тщательно промыть и замочить в холодной воде на несколько часов.',
            'Затем положить мясо в большую кастрюлю, залить холодной водой и довести до кипения.',
            'Снять пену, уменьшить огонь и варить на медленном огне около 6-8 часов, периодически снимая жир.',
            'За час до окончания варки добавить очищенную луковицу, чеснок, лавровый лист и черный перец горошком.',
            'Готовое мясо вынуть из бульона, отделить от костей и нарезать крупными кусками.',
            'Бульон процедить, посолить по вкусу и вернуть мясо в кастрюлю.',
            'Подавать хаш горячим, посыпав мелко нарубленной зеленью.'
        ]
    },
    'лагман': {
        'ingredients': ['лапша для лагмана', 'баранина', 'морковь', 'лук', 'болгарский перец', 'томатная паста', 'чеснок', 'специи (зира, кориандр, красный перец)', 'соль', 'растительное масло'],
        'steps': [
            'Лапшу отварить в подсоленной воде до готовности, затем откинуть на дуршлаг и промыть холодной водой.',
            'Мясо нарезать небольшими кусочками и обжарить на растительном масле до румяной корочки.',
            'Добавить к мясу нарезанный лук, морковь и болгарский перец, продолжать жарить до мягкости овощей.',
            'Влить томатную пасту, разбавленную небольшим количеством воды, добавить специи, соль и тушить на медленном огне около 20 минут.',
            'Чеснок пропустить через пресс и добавить в конце тушения.',
            'В глубокую тарелку выложить лапшу, сверху полить мясной подливой и украсить свежей зеленью.'
        ]
    },
    'люля-кебаб': {
        'ingredients': ['фарш (бараний или говяжий)', 'лук', 'чеснок', 'соль', 'перец', 'зира', 'растительное масло', 'лаваш или лепешка'],
        'steps': [
            'Фарш смешать с мелко нарезанным луком, пропущенным через пресс чесноком, солью, перцем и зирой.',
            'Тщательно вымесить фарш руками, отбивая его о стол, чтобы он стал плотным и эластичным.',
            'Сформировать из фарша длинные колбаски и нанизать их на шампуры.',
            'Жарьте люля-кебабы на гриле или мангале, поворачивая их, чтобы они равномерно прожарились со всех сторон.',
            'Подавать горячими, завернув в лаваш или лепешку, добавив свежие овощи и соус по вкусу.'
        ]
    },
    'рассольник': {
        'ingredients': ['говядина', 'картофель', 'морковь', 'лук', 'соленые огурцы', 'огуречный рассол', 'рис', 'лавровый лист', 'черный перец горошком', 'соль', 'растительное масло'],
        'steps': [
            'Говядину нарезать кусочками и отварить в кастрюле с водой до готовности, снимая пену.',
            'Картофель и морковь нарезать кубиками, лук мелко нашинковать.',
            'Соленые огурцы нарезать мелкими кубиками.',
            'На растительном масле обжарить лук и морковь до золотистого цвета.',
            'В готовый бульон добавить картофель, рис, лавровый лист и черный перец горошком. Варить до полуготовности картофеля.',
            'Затем добавить обжаренные лук и морковь, соленые огурцы и влить огуречный рассол. Посолить по вкусу.',
            'Варить суп еще 15-20 минут до полной готовности всех ингредиентов.',
            'Подавать рассольник горячим, украсив свежей зеленью и сметаной.'
        ]
    },
    'венские вафли': {
        'ingredients': ['мука', 'яйца', 'молоко', 'сахар', 'разрыхлитель', 'ванильный экстракт', 'сливочное масло', 'соль'],
        'steps': [
            'В миске смешать муку, сахар, разрыхлитель и соль.',
            'В другой миске взбить яйца, молоко, ванильный экстракт и растопленное сливочное масло.',
            'Соединить сухие и влажные ингредиенты, тщательно перемешивая до получения однородного теста.',
            'Разогреть вафельницу и слегка смазать ее растительным маслом.',
            'Вылить небольшое количество теста на горячую поверхность вафельницы и закрыть крышку.',
            'Выпекать вафли до золотисто-коричневого цвета, обычно это занимает 3-5 минут.',
            'Готовые вафли подавать теплыми с медом, ягодами, сиропом или взбитыми сливками.'
        ]
    },
    'тартар': {
        'ingredients': ['говяжья вырезка', 'лук-шалот', 'каперсы', 'маринованные корнишоны', 'дижонская горчица', 'вустерский соус', 'оливковое масло', 'яйцо перепелиное', 'соль', 'перец'],
        'steps': [
            'Говяжью вырезку нарезать очень мелкими кубиками.',
            'Лук-шалот, каперсы и маринованные корнишоны мелко нарезать.',
            'Соединить мясо, лук, каперсы и корнишоны в миске.',
            'Добавить дижонскую горчицу, вустерский соус, оливковое масло, соль и перец. Хорошо перемешать.',
            'Выложить тартар на сервировочную тарелку, придав ему желаемую форму.',
            'Украсить сверху половинкой перепелиного яйца и подавать немедленно.'
        ]
    },
    'чизкейк': {
        'ingredients': ['песочное печенье', 'сливочное масло', 'сливочный сыр', 'сахар', 'яйца', 'сметана', 'ванильный экстракт', 'лимонный сок'],
        'steps': [
            'Для основы: измельчить песочное печенье в крошку и смешать с растопленным сливочным маслом. Выложить смесь в форму для выпечки и утрамбовать. Поставить в холодильник на 30 минут.',
            'Для начинки: взбить сливочный сыр с сахаром до кремообразного состояния. Добавить яйца по одному, продолжая взбивать. Затем ввести сметану, ванильный экстракт и лимонный сок. Перемешать до однородности.',
            'Вылить начинку на охлажденную основу и выпекать в предварительно разогретой до 160°C духовке около 1 часа, пока края чизкейка не затвердеют, а середина будет слегка дрожать.',
            'Остудить чизкейк при комнатной температуре, затем поставить в холодильник на несколько часов или на ночь.',
            'Перед подачей можно украсить свежими ягодами или шоколадной стружкой.'
        ]
    },
    'чурчхела': {
        'ingredients': ['орехи (грецкие, фундук, миндаль)', 'мука', 'сахар', 'гранатовый сок', 'вода'],
        'steps': [
            'Орехи нанизать на нитку, оставив длинный конец для подвешивания.',
            'В кастрюле смешать муку, сахар и гранатовый сок. Постепенно добавить воду, постоянно помешивая, чтобы избежать комочков. Довести до кипения и варить на медленном огне, пока смесь не загустеет.',
            'Опустить нити с орехами в горячую смесь, давая ей хорошо покрыть орехи. Повторить этот процесс несколько раз, давая каждому слою подсохнуть перед следующим погружением.',
            'Повесить чурчхелу в сухом проветриваемом месте для окончательного высыхания, что может занять несколько дней.',
            'Готовую чурчхелу хранить в сухом месте.'
        ]
    },
    'энчиладас': {
        'ingredients': ['куриное филе', 'тортильи', 'сыр', 'красный лук', 'чеснок', 'острый соус', 'растительное масло', 'соль', 'перец'],
        'steps': [
            'Куриное филе нарезать небольшими кусочками и обжарить на растительном масле до золотистой корочки. Посолить и поперчить.',
            'Красный лук и чеснок мелко нарезать и добавить к курице. Жарить до мягкости лука.',
        ]
    },
'паста_карбонара': {
        'ingredients': ['спагетти', 'бекон', 'яйца', 'тертый пармезан', 'сливки', 'чеснок', 'соль', 'перец'],
        'steps': [
            'Отварить спагетти до состояния аль денте согласно инструкции на упаковке.',
            'На сковороде обжарить бекон до хрустящей корочки, затем добавить измельчённый чеснок и жарить ещё минуту.',
            'В отдельной миске взбить яйца, сливки, тёртый пармезан, соль и перец.',
            'Слить воду из спагетти, сохранив немного жидкости для соуса.',
            'Сразу же добавить спагетти к бекону, быстро перемешать.',
            'Влить яичную смесь, постоянно помешивая, чтобы яйца не свернулись, а образовался кремовый соус.',
            'Если нужно, добавить немного воды от спагетти для достижения нужной консистенции.',
            'Подавать пасту карбонара горячей, посыпав дополнительно тёртым пармезаном.'
        ]
    },
    'паста_болоньезе': {
        'ingredients': ['спагетти', 'фарш (говяжий или свиной)', 'лук', 'морковь', 'сельдерей', 'чеснок', 'томатная паста', 'томаты в собственном соку', 'белое вино', 'оливковое масло', 'соль', 'перец', 'лавровый лист', 'тимьян', 'базилик'],
        'steps': [
            'На сковороде разогреть оливковое масло и обжарить мелко нарезанный лук, морковь, сельдерей и чеснок до мягкости.',
            'Добавить фарш и жарить, разбивая комочки, до коричневого цвета.',
            'Влить белое вино и тушить, пока алкоголь не испарится.',
            'Добавить томатную пасту, томаты в собственном соку, лавровый лист, тимьян и базилик. Посолить и поперчить по вкусу.',
            'Тушить на медленном огне около 1,5-2 часов, периодически помешивая и добавляя воду или бульон, если необходимо.',
            'Отварить спагетти до состояния аль денте согласно инструкции на упаковке.',
            'Смешать спагетти с соусом болоньезе и подавать, посыпав тёртым пармезаном.'
        ]
    },
    'овощной_салат': {
        'ingredients': ['листья салата', 'помидоры черри', 'огурцы', 'болгарский перец', 'редис', 'оливковое масло', 'лимонный сок', 'соль', 'перец'],
        'steps': [
            'Листья салата промыть, обсушить и нарвать руками на крупные куски.',
            'Помидоры черри разрезать пополам, огурцы и редис нарезать тонкими кружочками, болгарский перец — полосками.',
            'Все овощи смешать в большой миске.',
            'Для заправки смешать оливковое масло, лимонный сок, соль и перец.',
            'Полить салат заправкой и аккуратно перемешать.',
            'Подавать сразу же.'
        ]
    },
    'кесадилья': {
        'ingredients': ['лепешки тортильи', 'тертый сыр', 'куриное филе', 'болгарский перец', 'лук', 'чеснок', 'растительное масло', 'соль', 'перец'],
        'steps': [
            'Куриное филе нарезать небольшими кусочками и обжарить на растительном масле до готовности. Посолить и поперчить.',
            'Болгарский перец и лук нарезать мелкими кубиками, чеснок измельчить. Обжарить овощи до мягкости.',
            'На одну половину лепешки тортильи выложить тертый сыр, куриное филе и обжаренные овощи.',
            'Закрыть второй половиной лепешки и обжарить на сухой сковороде с двух сторон до золотистой корочки и расплавления сыра.',
            'Разрезать кесадилью на треугольники и подавать горячей.'
        ]
    },
    'щавелевый_суп': {
        'ingredients': ['картофель', 'морковь', 'лук', 'щавель', 'яйца', 'куриный бульон', 'сметана', 'соль', 'перец', 'зелень (укроп, петрушка)'],
        'steps': [
            'Картофель и морковь нарезать кубиками, лук мелко нашинковать.',
            'В кипящий куриный бульон добавить картофель и морковь. Варить до полуготовности картофеля.',
            'Добавить мелко нарезанный лук и варить ещё 5-7 минут.',
            'Щавель промыть, обсушить и нарезать полосками. Добавить в суп и варить 5-7 минут.',
            'Яйца сварить вкрутую, остудить, очистить и нарезать кубиками или дольками.',
            'В готовый суп добавить нарезанные яйца, посолить и поперчить по вкусу.',
            'Подавать щавелевый суп горячим, добавив ложку сметаны и посыпав свежей зеленью.'
        ]
    },
    'ленивые_вареники': {
        'ingredients': ['творог', 'мука', 'яйца', 'сахар', 'соль', 'ванилин', 'растительное масло'],
        'steps': [
            'Творог протереть через сито или размять вилкой.',
            'Добавить яйца, сахар, соль и ванилин. Хорошо перемешать.',
            'Постепенно вводить муку, замешивая мягкое тесто.',
            'Раскатать тесто в толстый жгут и нарезать на небольшие кусочки.',
            'Отварить вареники в кипящей подсоленной воде до тех пор, пока они не всплывут на поверхность.',
            'Вынуть вареники шумовкой и подавать горячими, полив растопленным сливочным маслом или сметаной.'
        ]
    },
    'салат с из брокколи с курицей':{
        'ingredients': ['курица', 'брокколи', 'твёрдый сыр', 'майонез', 'соль', ],
        'steps': [
            'Для приготовления салата отвариваем куриную грудку. Остужаем. Затем щипаем ее на мелкие кусочки руками..',
            'Брокколи варим 4–5 минут в подсоленной воде. Остужаем. Режем большие соцветия на 3–4 части.',
            'Смешиваем курицу и брокколи, добавляем тертый сыр и выдавленный чеснок. Солим и заправляем майонезом по вкусу.',
        ]
    },
   'жаренный сыр':{
        'ingredients': ['сыр', 'яйцо', 'мука', 'панировочные сухари', 'масло', ],
        'steps': [
            'Нарежьте сыр ломтиками толщиной в один сантиметр. Слегка взбейте яйцо.',
            'Обваляйте сыр в муке, обмакните в яйцо, покройте сухарями.',
            'Налейте масло в глубокую сковородку и разогрейте до кипения. Положите в сковородку ломтики сыра.'
            'Обжаривайте 20–30 секунд на каждой стороне до золотистого цвета.',
        ]
    },

}


# Функция для создания кнопок с выбором продолжить/закончить
def create_continue_menu():
    keyboard = [
        [InlineKeyboardButton("Да", callback_data='continue')],
        [InlineKeyboardButton("Нет", callback_data='stop')]
    ]
    return InlineKeyboardMarkup(keyboard)


# Функция для создания кнопок основного меню
def create_main_menu():
    keyboard = [
        [InlineKeyboardButton("Случайный рецепт", callback_data='random')],
        [InlineKeyboardButton("Найти рецепт по ингредиенту", callback_data='search')],
        [InlineKeyboardButton("Рецепт по названию", callback_data='recipe')],
    ]
    return InlineKeyboardMarkup(keyboard)


# Функция приветствия
async def start(update: Update, context: CallbackContext) -> None:
    if update.message:  # Проверяем, что сообщение существует
        await update.message.reply_text(
            "Привет! Я Шеф-повар Сафин. Я помогу тебе приготовить блюда.\n"
            "Выбери одну из опций ниже:",
            reply_markup=create_main_menu()
        )


# Функция для отображения случайного рецепта
async def random_recipe(update: Update, context: CallbackContext) -> None:
    random_dish = random.choice(list(recipes.keys()))
    recipe_info = recipes[random_dish]
    ingredients = '\n'.join(recipe_info['ingredients'])
    steps = '\n'.join(recipe_info['steps'])
    response = f"Случайный рецепт: {random_dish.capitalize()}:\n\nИнгредиенты:\n{ingredients}\n\nШаги приготовления:\n{steps}"

    if update.callback_query:  # Проверяем, что запрос был через callback_query
        query = update.callback_query
        await query.answer()  # Подтверждаем получение запроса
        await query.edit_message_text(response)  # Редактируем сообщение после нажатия кнопки
        await query.edit_message_text(response + "\n\nХотите продолжить?", reply_markup=create_continue_menu())


# Функция для поиска рецепта по названию
async def find_recipe_by_name(update: Update, context: CallbackContext) -> None:
    dish_name = update.message.text.strip().lower()
    if dish_name in recipes:
        recipe_info = recipes[dish_name]
        ingredients = '\n'.join(recipe_info['ingredients'])
        steps = '\n'.join(recipe_info['steps'])
        response = f"Рецепт: {dish_name.capitalize()}:\n\nИнгредиенты:\n{ingredients}\n\nШаги приготовления:\n{steps}"
    else:
        response = f"Извините, рецепт для блюда '{dish_name}' не найден."

    await update.message.reply_text(response + "\n\nХотите продолжить?", reply_markup=create_continue_menu())


# Функция для поиска рецепта по ингредиенту
async def find_recipe_by_ingredient(update: Update, context: CallbackContext) -> None:
    ingredient = update.message.text.strip().lower()
    found_recipes = [
        dish for dish, details in recipes.items() if ingredient in [i.lower() for i in details['ingredients']]
    ]
    if found_recipes:
        response = "Рецепты, содержащие ингредиент '{}':\n".format(ingredient)
        for dish in found_recipes:
            response += f"- {dish.capitalize()}\n"
    else:
        response = f"Извините, рецепты с ингредиентом '{ingredient}' не найдены."

    await update.message.reply_text(response + "\n\nХотите продолжить?", reply_markup=create_continue_menu())


# Функция для обработки нажатий на кнопки
async def button(update: Update, context: CallbackContext) -> None:
    query = update.callback_query
    await query.answer()

    if query.data == 'random':
        await random_recipe(update, context)
    elif query.data == 'search':
        await query.edit_message_text("Напишите ингредиент, чтобы найти рецепты.")
        context.user_data['searching_ingredient'] = True  # Устанавливаем состояние поиска по ингредиенту
    elif query.data == 'recipe':
        await query.edit_message_text("Напишите название блюда, чтобы получить рецепт.")
        context.user_data['searching_recipe'] = True  # Устанавливаем состояние поиска по рецепту
    elif query.data == 'continue':
        # Если пользователь выбрал продолжить, снова показываем меню
        await query.edit_message_text("Что хотите сделать?", reply_markup=create_main_menu())
    elif query.data == 'stop':
        # Если пользователь выбрал завершить, прощаемся
        await query.edit_message_text("Спасибо, что использовали бота! До свидания!")


# Обработчик текстовых сообщений, когда пользователь пишет название блюда или ингредиент
async def handle_text(update: Update, context: CallbackContext) -> None:
    user_text = update.message.text.strip().lower()

    if 'searching_recipe' in context.user_data:  # Проверяем, что пользователь ищет рецепт по названию
        await find_recipe_by_name(update, context)
        del context.user_data['searching_recipe']  # Убираем флаг после поиска

    elif 'searching_ingredient' in context.user_data:  # Проверяем, что пользователь ищет рецепт по ингредиенту
        await find_recipe_by_ingredient(update, context)
        del context.user_data['searching_ingredient']  # Убираем флаг после поиска


# Основная функция для запуска бота
async def main() -> None:
    # Создание приложения
    application = Application.builder().token("").build()

    # Добавление обработчиков
    application.add_handler(CommandHandler("start", start))

    # Обработка кнопок
    application.add_handler(CallbackQueryHandler(button))  # Для кнопок

    # Обработчик текстовых сообщений (для поиска по названию или ингредиенту)
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_text))

    # Запуск бота
    await application.run_polling()


# Запуск приложения
if __name__ == '__main__':
    # Для старта без использования asyncio.run() в Jupyter или других специфичных случаях
    asyncio.get_event_loop().run_until_complete(main())

# from telegram import Update
# from telegram.ext import Application, CommandHandler, CallbackContext
# import os

# # Пример рецептов
# recipes = {
#     "борщ": {
#         "ingredients": [
#             "2 свеклы",
#             "1 морковь",
#             "1 картофель",
#             "1 луковица",
#             "500 г капусты",
#             "3 ст. ложки томатной пасты",
#             "1 ст. ложка уксуса",
#             "2 ст. ложки сахара",
#             "соль, перец по вкусу",
#             "2 л воды",
#             "укроп, чеснок (по желанию)"
#         ],
#         "steps": [
#             "1. Отварите свеклу, затем натрите на терке.",
#             "2. Нарежьте картофель, морковь и лук, обжарьте на сковороде.",
#             "3. Добавьте томатную пасту и немного воды, тушите 5 минут.",
#             "4. В кастрюле доведите воду до кипения, добавьте капусту и варите 10 минут.",
#             "5. Положите свеклу, картофель и морковь в кастрюлю.",
#             "6. Добавьте уксус, сахар, соль, перец, варите до готовности.",
#             "7. Подавайте борщ с укропом и чесноком."
#         ]
#     },
#     # Добавьте другие рецепты сюда
# }

#
# # Функция приветствия
# def start(update: Update, context: CallbackContext) -> None:
#     update.message.reply_text(
#         "Привет! Я бот для рецептов. Напиши /recipe <название блюда>, чтобы узнать рецепт."
#     )
#     print(f"Получено сообщение от {update.message.from_user.username}: {update.message.text}")
#
#
# # Функция для отображения рецепта
# def recipe(update: Update, context: CallbackContext) -> None:
#     # Проверяем, есть ли аргументы после команды
#     if not context.args:
#         update.message.reply_text("Пожалуйста, укажите название блюда после команды /recipe.")
#         return
#
#     dish_name = ' '.join(context.args).lower()  # Получаем название блюда из команды
#     print(f"Пользователь запросил рецепт: {dish_name}")
#
#     if dish_name in recipes:
#         recipe_info = recipes[dish_name]
#         ingredients = '\n'.join(recipe_info['ingredients'])
#         steps = '\n'.join(recipe_info['steps'])
#         response = f"Рецепт для {dish_name.capitalize()}:\n\nИнгредиенты:\n{ingredients}\n\nШаги приготовления:\n{steps}"
#         update.message.reply_text(response)
#     else:
#         update.message.reply_text("Извините, я не знаю этот рецепт. Попробуйте другое блюдо.")
#
#
# # Главная функция для запуска бота
# def main():
#     # Получаем токен из переменной окружения
#     token = os.getenv("7879580316:AAEu5CVuObv0maAXmunqZt7QeFgMLIAGZ_Y")
#
#     if not token:
#         raise ValueError("Токен не найден! Убедитесь, что переменная окружения TELEGRAM_TOKEN установлена.")
#
#     # Создаем приложение
#     application = Application.builder().token(token).build()
#
#     # Регистрация обработчиков команд
#     application.add_handler(CommandHandler("start", start))
#     application.add_handler(CommandHandler("recipe", recipe))
#
#     # Запуск бота
#     print("Бот запущен, ожидает сообщений...")
#     application.run_polling()
#
#
# if __name__ == '__main__':
#     main()
